{
    "version": "0.1.0",
    "id": "mean-by-group",
    "title": {
        "en": "Return group average"
    },
    "description": {
        "en": "description: This function calculates and returns the average value for each defined group (for example per site, per year, per season and per HELCOM_ID) (R function 'mean_by_group')."
    },
    "jobControlOptions": ["sync-execute", "async-execute"],
    "keywords": ["daugava use case", "AquaINFRA", "mean_by_group", "R"],
    "links": [{
        "type": "text/html",
        "rel": "about",
        "title": "GitHub repo",
        "href": "https://github.com/AstraLabuce/aquainfra-usecase-Daugava",
        "hreflang": "en-US"
    }],
    "inputs": {
        "input_data": {
            "title": "Input table",
            "description": "URL to the input table containing group identifier(s) and a value column. Groups are defined by one or more columns. Other columns present in the table will be removed in the process, retaining only those specified in cols_to_group_by and value_col. For example, use the result table from peri_conv.",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["csv"]
        },
        "colnames_to_group_by": {
            "title": "Column names identifying group",
            "description": "One or more column names identifying the group. A combination of all specified columns will be used to define unique groups for calculating the average value. Example: \"longitude, latitude, Year_adj_generated, group_labels, HELCOM_ID\". Another example: \"Year_adj_generated, group_labels, HELCOM_ID\".",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["csv"]
        },
        "colname_value": {
            "title": "Column name for column containing values",
            "description": "The name of the column that contains the values for which the average will be calculated. Only one column name can be included. Examples: \"transparency_m\", \"mean\"",
            "schema": {
                "type": "string"
            },
            "minOccurs": 1,
            "maxOccurs": 1,
            "keywords": ["csv"]
        }
    },
    "outputs": {
        "mean_by_group": {
            "title": "Group average values (result table)",
            "description": "A table containing the unique groups defined by \"colnames_to_group_by\" and the corresponding average values for each group, based on the column specified in \"colname_value\".",
            "schema": {
                "type": "object",
                "contentMediaType": "application/json"
            }
        }
    },
    "example": {
        "inputs": {
            "input_data": "https://testserver.de/download/peri_conv.csv",
            "colnames_to_group_by": "longitude, latitude, Year_adj_generated, group_labels, HELCOM_ID",
            "colname_value": "transparency_m"
        }
    }
}
